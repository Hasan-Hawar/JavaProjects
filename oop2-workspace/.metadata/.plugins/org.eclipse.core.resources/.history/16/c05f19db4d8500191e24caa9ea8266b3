package game.players;

import java.io.IOException;
import java.util.List;

import game.Main;
import javafx.event.Event;
import javafx.event.EventHandler;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.TextField;
import javafx.scene.layout.BorderPane;
import javafx.scene.layout.VBox;
import logic.game.Player;

public class TwoPlayersController implements EventHandler<Event> {

	private Main main;

	@FXML
	public Button start;
	@FXML
	private Button save;
	@FXML
	private Button load;
	@FXML
	private TextField firstPlayer;

	@FXML
	private TextField secondPlayer;
	@FXML
	private VBox vBox;
	@FXML
	private BorderPane pane;

	private String path;
	private List<Player> players;

	@FXML
	private void saveAction(List<Player> players) {
		this.players = players;
	}

	@FXML
	public void showHomeScreen() throws IOException {
		main.showHomeScreen();
	}

	@FXML
	private void showList() throws IOException {
		main.loadPlayerList();
	}

	@FXML
	public void startGame() throws IOException {
		main.startGame();

	}

	@FXML
	private void goAndGenerate() throws IOException {
		main.showChooseCard();
	}

	@FXML
	@Override
	public void handle(Event event) {
		// TODO Auto-generated method stub
//
		firstPlayer.setId("firstPlayer");
		TextField firstPlayer = (TextField) pane.lookup("#firstPlayer");

		String firstPlayerString = firstPlayer.getText();

		secondPlayer.setId("secondPlayer");
		TextField secondPlayer = (TextField) pane.lookup("#secondPlayer");
		String secondPlayerString = secondPlayer.getText();

		// String[] formatted;
		Player player = new Player(firstPlayerString, 0);
		players.add(player);

	}
}